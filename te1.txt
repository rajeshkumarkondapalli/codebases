<#assign var1 = "example">
<#assign pattern = "FP\\d+-" + var1>
<#if "FP123-example"?matches(pattern)>
    Matched!
<#else>
    Not matched!
</#if>

<#-- Define the arrays -->
<#assign fpMeterArr = inputs["fp-meter"]>
<#assign fpClassifiersArr = inputs["fp-classifiers"]>
<#assign fpNameArr = inputs["fp-name"]>

<#-- Define the patterns -->
<#assign shmMeterNamePattern = "AGG-METER-GRP\\d+$">
<#assign fpNamePattern = "FP\\d+" + inputs["circuit-name"] + "$">

<#-- Find the index -->
<#assign index = fpNameArr?index_of(fpNameArr?seq?filter(it -> it?matches(fpNamePattern)))>
<#if index != -1>
    <#assign fpName = fpNameArr[index]>
    <#assign fpMeter = fpMeterArr[index]>
    
    <#if fpMeter?matches(shmMeterNamePattern)>
        <#-- EVC is associated with shared meter -->
        <#assign outputs["ignore-delete-qos-call"] = false>
        <#assign outputs["shared-meter-name"] = fpMeter>

        <#-- Count EVCs associated with fpMeter -->
        <#assign evcLinked = fpMeterArr?seq?filter(it -> it == fpMeter)?size>
        <#if evcLinked > 1>
            <#-- Multiple EVCs -->
            <#assign outputs["ignore-shared-meter-update-call"] = false>
        <#elseif evcLinked == 1>
            <#assign outputs["ignore-shared-meter-delete-call"] = false>
        </#if>
    </#if>
</#if>

<#-- Assign the classifiers -->
<#assign outputs["classifiers"] = fpClassifiersArr[index]>