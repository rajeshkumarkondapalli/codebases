I can provide examples of how to use FreeMarker Template Language (FTL) to work with XPath and JSONPath.

FreeMarker Template Language (FTL) with XPath
FreeMarker doesn’t natively support XPath, but you can use it with XML data if you preprocess the XML with XPath expressions before passing it to FreeMarker. Here’s an example:

Example XML Data (data.xml):
xml
Copy code
<bookstore>
  <book>
    <title lang="en">Effective Java</title>
    <author>Joshua Bloch</author>
  </book>
  <book>
    <title lang="es">Java: Cómo Programar</title>
    <author>Deitel & Deitel</author>
  </book>
</bookstore>
Preprocess XML with XPath:
Assuming you use an XPath processor (like lxml in Python) to extract data from the XML and pass it to FreeMarker:

python
Copy code
from lxml import etree

tree = etree.parse('data.xml')
titles = tree.xpath('//book/title/text()')
FreeMarker Template (template.ftl):
ftl
Copy code
<#-- Loop through titles extracted by XPath -->
<#list titles as title>
  <p>${title}</p>
</#list>
FreeMarker Template Language (FTL) with JSONPath
For JSONPath, you would similarly preprocess the JSON data to extract the relevant pieces and pass them to FreeMarker.

Example JSON Data (data.json):
json
Copy code
{
  "store": {
    "book": [
      {
        "title": "Effective Java",
        "author": "Joshua Bloch"
      },
      {
        "title": "Java: How to Program",
        "author": "Deitel & Deitel"
      }
    ]
  }
}
Preprocess JSON with JSONPath:
Assuming you use a JSONPath processor (like jsonpath-ng in Python) to extract data from the JSON and pass it to FreeMarker:

python
Copy code
import json
from jsonpath_ng import jsonpath, parse

with open('data.json') as f:
    data = json.load(f)

jsonpath_expr = parse('$.store.book[*].title')
titles = [match.value for match in jsonpath_expr.find(data)]
FreeMarker Template (template.ftl):
ftl
Copy code
<#-- Loop through titles extracted by JSONPath -->
<#list titles as title>
  <p>${title}</p>
</#list>
In both cases, the key is to preprocess the data with XPath or JSONPath and then use FreeMarker to render it.
